<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Lab 4 - Tabs</title>
	<style>
		
		section, .container{
			background-color: silver;
			border-radius: 15px;
			padding: 15px;
			margin: 5px;
		}
		
		section h1{
			margin-top: 0;
		}

		.container{
			display: flex;
			justify-content: center;
		}

		.invisible{
			display: none;
		}
	</style>
	<script>
		// Write your JavaScript code here.
		document.addEventListener("DOMContentLoaded", () => {

			// Get reference to each section by looking at #section's children
			const sections = document.querySelector("#sections").children

			// Create links tag where buttons for each section will be placed
			const links = document.createElement("span")
			links.classList.add("container")

			// Function that makes a determined section visible
			// Receives the name of the section and uses it to identify it from the rest
			const handleClick = (sectionName) => {
				console.log("You clicked", sectionName)
				for(const s of sections) {
					// If name matches, toggle visibility. If not, hide
					if(s.children[0].innerText === sectionName) {
						s.classList.toggle("invisible")
					} else {
						s.classList.add("invisible")
					}
				}
			}

			// Iterate over sections and create a button for each
			for(const s of sections) {
				s.classList.add("invisible")

				const name = s.children[0].innerText
				const sectionBtn = document.createElement("button")
				sectionBtn.innerText = name

				// Button functionality (visibility class toggle)
				sectionBtn.addEventListener("click", function() {handleClick(name)})
				
				// Append button to container
				links.appendChild(sectionBtn)
			}

			// Add links container to body
			document.querySelector("#sections").parentElement.prepend(links)
		})
	</script>
</head>
<body>
	
	<div id="sections">
		
		<section>
			<h1>Create account</h1>
			<p>To use our service you first need to create an account. After you have created an account you can login to it and use our service on any computer with a web browser.</p>
			<form>
				<div>Username: <input type="text" name="username"></div>
				<div>Password: <input type="password" name="password"></div>
				<input type="submit" value="Create account">
			</form>
		</section>
		
		<section>
			<h1>Sign in</h1>
			<p>To sign in, enter the username and password you entered when you created the account.</p>
			<form>
				<div>Username: <input type="text" name="username"></div>
				<div>Password: <input type="password" name="password"></div>
				<input type="submit" value="Sign in">
			</form>
		</section>
		
		<section>
			<h1>Subscribe</h1>
			<p>Do you just want to be notified when something new has happened? Then let us know your email and we will send you a message as soon as something interesting has happened.</p>
			<form>
				<div>Email: <input type="email" name="email"></div>
				<input type="submit" value="Subscribe">
			</form>
		</section>
		
	</div>
	
</body>
</html>